# 测试 v1.1.0 初始化提示功能

## ⚠️ 问题
运行 `sy commit: 初始化配置` 后，没有弹出详细的提示信息。

## ✅ 解决方案

### 步骤 1：确保使用最新版本

#### 方式 A：在开发环境测试（推荐）

1. **关闭所有 Cursor 窗口**
2. **在项目目录按 F5**
   - 会打开一个新的"扩展开发主机"窗口
3. **在新窗口中打开一个有 Git 的项目**
4. **运行测试**（见下方步骤 2）

#### 方式 B：安装 VSIX 文件测试

1. **卸载旧版本**
   - 按 `Ctrl+Shift+X` 打开扩展
   - 找到 `sy-ai-commit` 或 `AI Auto Commit`
   - 点击卸载
   - **重启 Cursor**

2. **安装新版本**
   - 按 `Ctrl+Shift+X` 打开扩展
   - 点击右上角 `...` → **"从 VSIX 安装..."**
   - 选择：`D:\1-SY\cursor-plugin-commit\sy-ai-commit-1.1.0.vsix`
   - 安装完成后**重启 Cursor**

3. **运行测试**（见下方步骤 2）

---

### 步骤 2：测试初始化提示

1. **打开一个有 Git 的项目**

2. **手动运行初始化配置**
   - 按 `Ctrl+Shift+P`
   - 输入：`sy commit`
   - 选择：**sy commit: 初始化配置**

3. **观察提示信息**

#### 预期结果（应该看到）：

**提示 1：配置进度**
```
AI Auto Commit Assistant
正在配置快捷键...
正在配置 Cursor 规则...
配置完成！
```

**提示 2：初始化成功（新增的详细提示）**
```
✅ 初始化配置成功！

💡 快捷键说明：
• Ctrl+G Ctrl+G：一键提交（保存→暂存→生成→提交）
• Ctrl+T Ctrl+T：仅生成信息（可查看后手动提交）

⚠️ 提示：切换项目时需要重新运行"sy commit: 初始化配置"
```

**提示 3：询问是否查看规则文件**
```
是否查看 .cursorrules 文件？
[查看] [稍后]
```

---

### 步骤 3：验证快捷键配置

**查看 keybindings.json：**

Windows:
```
C:\Users\你的用户名\AppData\Roaming\Cursor\User\keybindings.json
```

**应该包含：**
```json
{
    "key": "ctrl+g ctrl+g",
    "command": "runCommands",
    "args": {
        "commands": [
            "workbench.action.files.save",
            "git.stageAll",
            "cursor.generateGitCommitMessage",
            "git.commit"
        ]
    }
},
{
    "key": "ctrl+t ctrl+t",
    "command": "runCommands",
    "args": {
        "commands": [
            "workbench.action.files.save",
            "git.stageAll",
            "cursor.generateGitCommitMessage"
        ]
    }
}
```

---

## 🐛 如果还是没有提示

### 可能的原因：

1. **使用的是旧版本**
   - 卸载旧版本
   - 重启 Cursor
   - 重新安装 v1.1.0

2. **通知被禁用**
   - 检查 Cursor 设置中的通知设置
   - 确保没有禁用信息提示

3. **提示被其他窗口覆盖**
   - 检查是否有其他弹窗
   - 检查右下角通知区域

4. **插件缓存问题**
   - 完全关闭 Cursor
   - 删除插件缓存（可选）
   - 重新启动并安装

---

## 📝 调试信息

### 查看插件日志

1. 按 `Ctrl+Shift+P`
2. 输入：`Developer: Toggle Developer Tools`
3. 切换到 Console 标签
4. 运行初始化配置
5. 查看是否有错误信息

### 预期日志输出

应该看到类似：
```
AI Auto Commit Assistant 已激活
```

---

## ✅ 成功标志

初始化配置成功后，应该：
- [x] 看到配置进度提示
- [x] 看到初始化成功的详细提示（包含快捷键说明和切换项目提醒）
- [x] 看到询问是否查看 .cursorrules 文件
- [x] keybindings.json 中有两个快捷键配置
- [x] 项目根目录有 .cursorrules 文件

---

## 💡 快速测试命令

如果在开发环境测试：

```typescript
// 在开发工具控制台执行
vscode.window.showInformationMessage('测试提示框');
```

如果能看到"测试提示框"，说明通知功能正常。

---

## 📞 需要帮助？

如果按照以上步骤仍然没有提示，请提供：
1. Cursor 版本号
2. 操作系统版本
3. 插件版本号（1.1.0）
4. 开发者工具中的错误信息（如果有）
5. 是否看到配置进度提示

---

**祝测试顺利！** 🎉

