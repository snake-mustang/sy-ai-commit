# 🎯 AI Auto Commit Assistant - 项目说明

## 📋 项目概述

**项目名称：** AI Auto Commit Assistant  
**项目类型：** VSCode/Cursor 扩展插件  
**开发语言：** TypeScript  
**目标平台：** Visual Studio Code 1.80.0+

## 🎨 功能特性

### ✅ 已实现的核心功能

#### 1. 自动配置快捷键
- 自动修改用户的 `keybindings.json` 文件
- 默认快捷键：`Ctrl+G Ctrl+G`
- 支持跨平台（Windows/macOS/Linux）
- 自动识别 VSCode 和 Cursor 环境
- 支持自定义快捷键配置
- 可选是否自动推送到远程仓库

#### 2. 自动管理 .cursorrules 文件
- 自动在项目根目录创建 `.cursorrules` 文件
- 智能合并已有的规则文件
- 规范 Git 提交信息格式
- 使用中文提交信息模板
- 遵循约定式提交规范

#### 3. 一键提交流程
使用 `Ctrl+G Ctrl+G` 快捷键自动执行：
1. 保存当前文件
2. 暂存所有更改
3. AI 生成提交信息
4. 执行 Git 提交
5. （可选）推送到远程

#### 4. 智能配置向导
- 首次打开工作区时自动提示配置
- 提供友好的配置向导
- 支持分步配置（仅快捷键/仅规则）
- 配置状态持久化保存

#### 5. 灵活的配置选项
- `autoSetupOnStartup` - 自动配置开关
- `keybinding` - 自定义快捷键
- `enablePush` - 是否自动推送

## 📁 项目结构

```
cursor-plugin-commit/
├── 📄 核心代码
│   ├── src/
│   │   └── extension.ts          # 主要扩展逻辑（400+ 行）
│   ├── package.json               # 扩展清单和配置
│   └── tsconfig.json              # TypeScript 配置
│
├── 🔧 开发配置
│   ├── .vscode/
│   │   ├── launch.json           # 调试配置
│   │   ├── tasks.json            # 构建任务
│   │   └── extensions.json       # 推荐扩展
│   ├── .eslintrc.json            # 代码检查规则
│   ├── .gitignore                # Git 忽略文件
│   ├── .vscodeignore             # 发布忽略文件
│   └── .npmrc                    # npm 配置
│
├── 📚 文档
│   ├── README.md                 # 用户使用文档
│   ├── CHANGELOG.md              # 版本更新日志
│   ├── 快速开始.md               # 开发快速入门
│   ├── 开发指南.md               # 详细开发文档
│   ├── 发布指南.md               # 发布流程文档
│   └── 项目说明.md               # 本文件
│
└── 📜 其他
    └── LICENSE                    # MIT 许可证
```

## 🔑 核心代码说明

### extension.ts 主要函数

| 函数名 | 功能 | 关键 API |
|--------|------|----------|
| `activate()` | 插件激活入口 | `vscode.commands.registerCommand` |
| `deactivate()` | 插件停用清理 | - |
| `checkAndAutoSetup()` | 自动配置检查 | `context.globalState` |
| `setupAll()` | 完整配置流程 | `vscode.window.withProgress` |
| `setupKeybindings()` | 配置快捷键 | Node.js `fs`, `process.platform` |
| `setupCursorRules()` | 配置规则文件 | `vscode.workspace.workspaceFolders` |
| `getKeybindingsPath()` | 获取配置路径 | `vscode.env.appName`, `os.homedir()` |

## 🚀 使用流程

### 对于最终用户

```
安装插件
    ↓
首次打开工作区
    ↓
自动提示配置
    ↓
选择"是"
    ↓
自动配置完成
    ↓
使用 Ctrl+G Ctrl+G 提交
```

### 对于开发者

```
克隆/下载项目
    ↓
npm install
    ↓
npm run compile
    ↓
按 F5 调试
    ↓
在新窗口测试
    ↓
修改并重新加载
```

## 📦 发布准备清单

### 必须完成的步骤

- [ ] 修改 `package.json` 中的 `publisher` 字段
- [ ] 修改 `package.json` 中的 `repository` URL
- [ ] 准备图标文件 `icon.png`（128x128 或 256x256）
- [ ] 在 [Azure DevOps](https://dev.azure.com/) 创建 PAT
- [ ] 在 [Marketplace](https://marketplace.visualstudio.com/manage) 创建 Publisher
- [ ] 测试所有功能正常工作
- [ ] 运行 `npm run lint` 确保代码质量
- [ ] 更新 README.md 中的链接和信息

### 可选但推荐

- [ ] 添加更多功能截图到 README
- [ ] 录制功能演示视频
- [ ] 创建 GitHub 仓库
- [ ] 设置 CI/CD 自动发布
- [ ] 收集用户反馈并持续改进

## 🛠️ 开发命令速查

```bash
# 安装依赖
npm install

# 编译项目
npm run compile

# 监听模式（自动编译）
npm run watch

# 代码检查
npm run lint

# 打包插件
npm run package

# 发布到市场
npm run publish
```

## 🔍 技术栈详解

### 开发依赖

| 包名 | 版本 | 用途 |
|------|------|------|
| `typescript` | ^5.1.6 | TypeScript 编译器 |
| `@types/vscode` | ^1.80.0 | VSCode API 类型定义 |
| `@types/node` | ^18.0.0 | Node.js 类型定义 |
| `eslint` | ^8.45.0 | 代码检查工具 |
| `@typescript-eslint/*` | ^6.0.0 | TypeScript ESLint 插件 |
| `@vscode/vsce` | ^2.19.0 | 扩展打包发布工具 |

### 运行时依赖

无（仅使用 VSCode API 和 Node.js 内置模块）

## 📊 代码统计

- **核心代码：** ~400 行 TypeScript
- **配置文件：** ~200 行 JSON
- **文档：** ~1500 行 Markdown
- **总文件数：** 20+ 个文件

## 🎯 设计理念

### 用户体验优先

1. **零配置使用** - 首次安装自动提示配置
2. **一键操作** - 单一快捷键完成全流程
3. **智能合并** - 不覆盖用户现有配置
4. **友好提示** - 清晰的成功/错误消息

### 开发者友好

1. **类型安全** - 完整的 TypeScript 类型注解
2. **代码注释** - 每个函数都有 JSDoc 说明
3. **模块化设计** - 功能独立，易于维护
4. **跨平台兼容** - 支持所有主流操作系统

### 可扩展性

1. **配置驱动** - 通过配置项扩展功能
2. **命令分离** - 每个功能都是独立命令
3. **状态管理** - 使用 globalState 持久化
4. **文档完善** - 详细的开发和扩展指南

## 🐛 已知限制

### 当前版本限制

1. **仅支持 Git** - 不支持其他版本控制系统
2. **依赖 Cursor AI** - 需要 Cursor 的 AI 功能生成提交信息
3. **单一快捷键** - 不支持多个快捷键变体
4. **无提交历史** - 不记录历史提交信息

### 未来改进方向

1. ✨ 支持自定义提交模板
2. ✨ 添加提交历史记录
3. ✨ 支持多种 AI 提供商
4. ✨ 提供更多快捷键选项
5. ✨ 添加提交前钩子（代码检查、测试等）
6. ✨ 支持团队配置同步

## 📈 版本规划

### v1.0.0（当前）
- ✅ 基础快捷键配置
- ✅ .cursorrules 管理
- ✅ 自动配置向导

### v1.1.0（计划中）
- ⏳ 自定义提交模板
- ⏳ 提交历史记录
- ⏳ 更多配置选项

### v2.0.0（未来）
- 🔮 团队配置同步
- 🔮 插件市场集成
- 🔮 统计和分析功能

## 🤝 贡献指南

### 如何贡献

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

### 代码规范

- 使用 TypeScript 编写
- 遵循 ESLint 规则
- 添加 JSDoc 注释
- 更新相关文档

## 📞 支持与反馈

- 📧 Email: [待填写]
- 🐛 Issues: [待填写 GitHub Issues URL]
- 💬 讨论: [待填写 Discussions URL]

## 📄 许可证

MIT License - 详见 [LICENSE](./LICENSE) 文件

---

**项目状态：** ✅ 开发完成，准备发布  
**最后更新：** 2025-10-30  
**维护者：** [待填写]

🎉 **感谢使用 AI Auto Commit Assistant！**

